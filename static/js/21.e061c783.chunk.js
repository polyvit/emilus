(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[21],{618:function(e,t,n){"use strict";n.r(t),n.d(t,"Setting",(function(){return J}));var s=n(15),a=n(82),r=n(83),c=n(104),i=n(102),l=n(2),o=n(0),d=n(38),u=n(469),j=n(185),b=n(48),m=n(42),p=n(76),h=n(451),O=n(461),x=n(51),f=n(622),v=h.a.useBreakpoint,y=function(e){var t=e.sideContent,n=e.sideContentWidth,s=void 0===n?250:n,a=e.border;return Object(l.jsx)("div",{className:"side-content ".concat(a?"with-border":""),style:{width:"".concat(s,"px")},children:t})},g=function(e){var t=e.sideContent,n=e.visible,s=e.onSideContentClose;return Object(l.jsx)(O.a,{width:320,placement:"left",closable:!1,onClose:s,visible:n,bodyStyle:{paddingLeft:0,paddingRight:0},children:Object(l.jsx)("div",{className:"h-100",children:t})})},U=function(e){var t=e.mainContent,n=e.pageHeader,a=e.sideContentGutter,r=void 0===a||a,c=!x.a.getBreakPoint(v()).includes("lg"),i=Object(o.useState)(!1),d=Object(p.a)(i,2),u=d[0],j=d[1];return Object(l.jsxs)("div",{className:"inner-app-layout",children:[c?Object(l.jsx)(g,Object(s.a)({visible:u,onSideContentClose:function(e){j(!1)}},e)):Object(l.jsx)(y,Object(s.a)({},e)),Object(l.jsxs)("div",{className:"main-content ".concat(n?"has-page-header":""," ").concat(r?"gutter":"no-gutter"),children:[c?Object(l.jsx)("div",{className:"font-size-lg mb-3 ".concat(r?"":"pt-3 px-3"),children:Object(l.jsx)(f.a,{onClick:function(){j(!0)}})}):null,t]})]})},C=n(277),N=n(615),w=n(612),k=n(106),I=n(614),B=n(502),S=n(503),F=n(459),P=n(611),E=n(32),A=n(168),D=n(130),L=n(19),R=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e,s,r,c,i,l,o,d,u,j,b,m,p;Object(a.a)(this,n);for(var h=arguments.length,O=new Array(h),x=0;x<h;x++)O[x]=arguments[x];return(p=t.call.apply(t,[this].concat(O))).avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",p.state={id:null!==(e=p.props.currentUser.id)&&void 0!==e?e:"",avatarUrl:"https://dummyimage.com/50x50/ccc/fff&text=No+photo",name:null!==(s=p.props.currentUser.name)&&void 0!==s?s:"",email:null!==(r=p.props.currentUser.email)&&void 0!==r?r:"",userName:null!==(c=p.props.currentUser.username)&&void 0!==c?c:"",dateOfBirth:null,phoneNumber:null!==(i=p.props.currentUser.phone)&&void 0!==i?i:"",website:null!==(l=p.props.currentUser.website)&&void 0!==l?l:"",address:null!==(o=null===(d=p.props.currentUser.address)||void 0===d?void 0:d.street)&&void 0!==o?o:"",city:null!==(u=null===(j=p.props.currentUser.address)||void 0===j?void 0:j.city)&&void 0!==u?u:"",postcode:null!==(b=null===(m=p.props.currentUser.address)||void 0===m?void 0:m.zipcode)&&void 0!==b?b:""},p}return Object(r.a)(n,[{key:"getBase64",value:function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,s=t.email,a=t.userName,r=t.dateOfBirth,c=t.phoneNumber,i=t.website,o=t.address,d=t.city,j=t.postcode,b=t.avatarUrl;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(A.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(l.jsx)(N.a,{size:90,src:b,icon:Object(l.jsx)(u.a,{})}),Object(l.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(l.jsx)(w.a,{onChange:function(t){var n="updatable";"uploading"!==t.file.status?"done"===t.file.status&&(e.getBase64(t.file.originFileObj,(function(t){return e.setState({avatarUrl:t})})),C.b.success({content:"Uploaded!",key:n,duration:1.5})):C.b.loading({content:"Uploading...",key:n,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(l.jsx)(k.a,{type:"primary",children:"Change Avatar"})}),Object(l.jsx)(k.a,{className:"ml-2",onClick:function(){e.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(l.jsx)("div",{className:"mt-4",children:Object(l.jsx)(I.a,{name:"basicInformation",layout:"vertical",initialValues:{name:n,email:s,username:a,dateOfBirth:r,phoneNumber:c,website:i,address:o,city:d,postcode:j},onFinish:function(t){var n="updatable";C.b.loading({content:"Updating...",key:n}),setTimeout((function(){e.setState({name:t.name,email:t.email,userName:t.userName,dateOfBirth:t.dateOfBirth,phoneNumber:t.phoneNumber,website:t.website,address:t.address,city:t.city,postcode:t.postcode}),C.b.success({content:"Done!",key:n,duration:2}),e.props.sendUserInfo(e.state),e.props.history.push("".concat(L.c,"/clientslist"))}),1e3)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(l.jsx)(B.a,{children:Object(l.jsxs)(S.a,{xs:24,sm:24,md:24,lg:16,children:[Object(l.jsxs)(B.a,{gutter:E.c,children:[Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Date of Birth",name:"dateOfBirth",children:Object(l.jsx)(P.a,{className:"w-100"})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Website",name:"website",children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:24,children:Object(l.jsx)(I.a.Item,{label:"Address",name:"address",children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"City",name:"city",children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(S.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(I.a.Item,{label:"Post code",name:"postcode",children:Object(l.jsx)(F.a,{})})})]}),Object(l.jsx)(k.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})})]})}}]),n}(o.Component),q=Object(d.b)((function(e){return{currentUser:e.users.currentUser}}),(function(e){return{sendUserInfo:function(t){return e(Object(D.b)(t))}}}))(R),z=function(e){var t=e.match,n=e.location;return Object(l.jsx)(j.a,{defaultSelectedKeys:"".concat(t.url,"/edit-profile"),mode:"inline",selectedKeys:[n.pathname],children:Object(l.jsxs)(j.a.Item,{children:[Object(l.jsx)(u.a,{}),Object(l.jsx)("span",{children:"Edit Profile"}),Object(l.jsx)(b.b,{to:"".concat(t.url,"/edit-profile")})]},"".concat(t.url,"/edit-profile"))})},W=function(e){var t=e.match;return Object(l.jsxs)(m.d,{children:[Object(l.jsx)(m.a,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/edit-profile")}),Object(l.jsx)(m.b,{path:"".concat(t.url,"/edit-profile"),component:q})]})},J=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.setCurrentUser(this.props.location.state)}},{key:"render",value:function(){return Object(l.jsx)(U,{sideContentWidth:320,sideContent:Object(l.jsx)(z,Object(s.a)({},this.props)),mainContent:Object(l.jsx)(W,Object(s.a)({},this.props))})}}]),n}(o.Component);t.default=Object(d.b)(null,(function(e){return{setCurrentUser:function(t){return e(Object(D.c)(t))}}}))(J)}}]);
//# sourceMappingURL=21.e061c783.chunk.js.map